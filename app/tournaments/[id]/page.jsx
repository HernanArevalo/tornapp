import tournaments from '../../../data/tournaments.json';
import loadTeams from './loadTeams';
import styles from './tournament.module.css';

const tournament = tournaments['abc']

const metadata = {
  title: `Torneo - ${tournament.name.toUpperCase()}`,
  description: 'Generated by create next app'
}

export default async function TournamentId ({ params }) {

 const teams = await loadTeams(params.id)

  return (
    <>
      <div>
        <h2 className={ styles.tournamentName }>Tournament {tournament.name}</h2>

        <table className={ styles.trable}>
          <thead className={ styles.thead}>
              <tr className={ styles.tr}>
                <th className={ styles.th}></th>
                <th className={ styles.th}>EQUIPO</th>
                <th className={ styles.th}>PG</th>
                <th className={ styles.th}>PE</th>
                <th className={ styles.th}>PP</th>
                <th className={ styles.th}>PT</th>
              </tr>
          </thead>
          { tournament.teams.map((team, idx) =>(
            <tr key={team.name} className={ styles.tr}>
              <th className={ styles.th}>{idx}</th>
              <th className={ styles.teamName }>{team.name}</th>
              <th className={ styles.th}>{team.pg}</th>
              <th className={ styles.th}>{team.pe}</th>
              <th className={ styles.th}>{team.pp}</th>
              <th className={ styles.th}>{team.points}</th>
            </tr>
          ))
          }
        </table>

      </div>
    </>
  )
}
